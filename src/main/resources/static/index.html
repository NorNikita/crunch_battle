<html>
<head>
    <title>Order Book</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/sockjs-client/1.5.0/sockjs.js" integrity="sha512-lyIq9fRcCeSCXhp41XC/250UBmypAHV8KW+AhLcSEIksWHBfhzub6XXwDe67wTpOG8zrO2NAU/TYmEaCW+aQSg==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/stomp.js/2.3.3/stomp.min.js" integrity="sha512-iKDtgDyTHjAitUDdLljGhenhPwrbBfqTKWO1mkhSFH3A7blITC9MhYon6SjnMhp4o0rADGw9yAC6EW4t5a4K3g==" crossorigin="anonymous"></script>
    <script type="text/javascript">

        let sock = new SockJS("http://localhost:8080/btx");
        let client = Stomp.over(sock);

        client.connect({}, frame => {
            client.subscribe("/topic/ask", payload => {
                let asks = JSON.parse(payload.body);
                document.getElementById('ask1').innerText = asks[0];
                document.getElementById('ask2').innerText = asks[1];
                document.getElementById('ask3').innerText = asks[2];
                document.getElementById('ask4').innerText = asks[3];
                document.getElementById('ask5').innerText = asks[4];
                document.getElementById('ask6').innerText = asks[5];
                document.getElementById('ask7').innerText = asks[6];
                document.getElementById('ask8').innerText = asks[7];
                document.getElementById('ask9').innerText = asks[8];
                document.getElementById('ask10').innerText = asks[9];
            });
            client.subscribe("/topic/bid", payload => {
                let bids = JSON.parse(payload.body);
                document.getElementById('bid1').innerText = bids[0];
                document.getElementById('bid2').innerText = bids[1];
                document.getElementById('bid3').innerText = bids[2];
                document.getElementById('bid4').innerText = bids[3];
                document.getElementById('bid5').innerText = bids[4];
                document.getElementById('bid6').innerText = bids[5];
                document.getElementById('bid7').innerText = bids[6];
                document.getElementById('bid8').innerText = bids[7];
                document.getElementById('bid9').innerText = bids[8];
                document.getElementById('bid10').innerText = bids[9];
            });
        })
    </script>
</head>
<body>
    <div id="container" style="overflow:hidden;width:800px">
        <div id="cup" style="white-space:nowrap">
            <div id="ask" style="width:300px;display:inline-block;border:1px solid black">
                Ask
                <ul id="top-10-ask" style="color: red">
                    <li id="ask1"></li>
                    <li id="ask2"></li>
                    <li id="ask3"></li>
                    <li id="ask4"></li>
                    <li id="ask5"></li>
                    <li id="ask6"></li>
                    <li id="ask7"></li>
                    <li id="ask8"></li>
                    <li id="ask9"></li>
                    <li id="ask10"></li>
                </ul>
            </div>
            <div id="bid" style="width:300px;display:inline-block;border:1px solid black">
                Bid
                <ul id="top-10-bid" style="color: green">
                    <li id="bid1"></li>
                    <li id="bid2"></li>
                    <li id="bid3"></li>
                    <li id="bid4"></li>
                    <li id="bid5"></li>
                    <li id="bid6"></li>
                    <li id="bid7"></li>
                    <li id="bid8"></li>
                    <li id="bid9"></li>
                    <li id="bid10"></li>
                </ul>
            </div>
        </div>
    </div>
</body>
</html>